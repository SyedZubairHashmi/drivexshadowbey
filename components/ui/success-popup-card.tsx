import React from 'react';

interface SuccessPopupCardProps {
  heading: string;
  message: string;
  isOpen: boolean;
  onClose: () => void;
}

const SuccessPopupCard: React.FC<SuccessPopupCardProps> = ({
  heading,
  message,
  isOpen,
  onClose
}) => {
  if (!isOpen) return null;

  const handleOverlayClick = (e: React.MouseEvent) => {
    // Only close if clicking on the overlay background, not on the card itself
    if (e.target === e.currentTarget) {
      onClose();
    }
  };

  return (
    <div 
      className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
      onClick={handleOverlayClick}
    >
      <div 
        className="flex flex-col justify-center items-center gap-10 rounded-xl bg-white p-6"
        style={{
          width: '496px',
          height: '320px',
          padding: '24px',
          display: 'flex',
          flexDirection: 'column',
          justifyContent: 'center',
          alignItems: 'center',
          gap: '40px',
          flexShrink: 0,
          borderRadius: '12px',
          border: '1px solid #0000003D',
          background: '#FFF'
        }}
      >
        {/* SVG Icon */}
        <div 
          className="flex-shrink-0"
          style={{
            width: '158.103px',
            height: '132.239px'
          }}
        >
          <svg 
            xmlns="http://www.w3.org/2000/svg" 
            width="158.103" 
            height="132.239" 
            viewBox="0 0 550 547" 
            fill="none"
          >
            <path 
              fillRule="evenodd" 
              clipRule="evenodd" 
              d="M142.258 3.08817C141.2 4.36197 140.569 7.43937 140.854 9.92416C141.319 13.9855 142.611 14.8712 153.585 18.6539C170.557 24.506 179.092 29.9055 190.293 41.8801C209.548 62.4654 222.695 101.09 222.695 137.08V145.938L214.241 141.101C201.907 134.044 183.126 126.899 171.354 124.785C152.223 121.347 140.47 127.012 133.275 143.14C131.264 147.649 100.559 232.222 65.0426 331.078C-2.79707 519.9 -2.73747 519.713 2.82311 530.467C8.0906 540.651 22.7352 548.105 33.3185 545.989C36.0046 545.451 85.33 524.792 142.929 500.079C200.529 475.365 278.817 442.006 316.902 425.948C354.987 409.889 388.922 394.929 392.313 392.702C408.249 382.235 408.623 358.38 393.352 326.31C389.833 318.919 387.411 312.128 387.973 311.221C389.461 308.812 412.348 310.664 419.465 313.77L425.408 316.363L419.868 324.595C410.675 338.257 412.41 352.01 424.693 362.793C431.297 368.592 441.648 371.845 449.466 370.576C466.591 367.796 472.026 350.577 462.106 330.529C459.826 325.922 458.249 321.864 458.602 321.511C460.512 319.601 482.052 316.376 499.413 315.4C520.475 314.216 523.833 312.933 523.833 306.068C523.833 304.053 522.387 301.097 520.619 299.498C515.045 294.452 474.54 297.657 450.508 305.042C444.378 306.926 443.563 306.76 436.015 302.1C421.319 293.027 402.692 290.47 382.121 294.697C378.556 295.43 377.174 294.098 370.043 283.041C365.615 276.175 361.773 270.07 361.505 269.472C360.707 267.695 386.459 258.367 405.471 253.548C448.256 242.7 492.748 244.195 530.297 257.739C542.99 262.318 547.48 261.818 549.027 255.656C550.647 249.201 547.972 246.757 533.21 241.199C483.729 222.574 423.438 224.436 367.628 246.314C359.214 249.612 350.748 252.419 348.814 252.551C346.226 252.728 340.701 247.713 327.862 233.532C307.93 211.519 284.192 189.793 259.734 171.186C240.992 156.926 240.907 156.778 240.59 137.65C240.16 111.641 233.272 80.2486 223.464 59.5764C209.969 31.1407 190.741 13.7729 161.689 3.77741C151.213 0.173425 144.863 -0.0520309 142.258 3.08817ZM158.671 144.146C148.986 148.038 150.228 164.92 162.035 189.843C196.554 262.715 298.846 359.604 361.758 379.019C380.021 384.654 388.774 382.8 390.962 372.833C392.392 366.321 388.2 350.939 380.54 334.592L374.166 320.991L368.99 323.93C366.143 325.545 358.391 332.12 351.763 338.542C345.134 344.965 338.522 350.218 337.068 350.218C333.374 350.218 329.503 346.857 328.218 342.534C327.322 339.525 329.073 336.858 338.12 327.445C344.163 321.159 352.576 313.664 356.813 310.791L364.515 305.569L355.281 291.66C350.202 284.011 345.413 277.751 344.638 277.751C343.864 277.751 338.249 280.711 332.161 284.328C320.406 291.312 315.984 291.61 312.785 285.634C309.935 280.31 312.645 276.355 323.369 270.187L333.628 264.287L322.322 251.746C301.064 228.165 248.827 181.13 243.896 181.13C243.216 181.13 241.762 190.006 240.667 200.857C235.871 248.325 228.985 264.996 218.814 253.755C216.188 250.853 216.262 249.403 220.227 225.977C222.526 212.382 224.844 193.65 225.377 184.35L226.345 167.442L212.845 160.05C197.678 151.745 185.111 146.557 174.385 144.172C165.69 142.238 163.429 142.235 158.671 144.146ZM81.259 345.029C49.1805 434.238 22.1168 509.906 21.1184 513.178C19.624 518.082 19.7561 519.819 21.8705 523.045C27.3344 531.385 27.088 531.462 121.694 491.335C170.602 470.589 241.054 440.773 278.253 425.077C315.452 409.379 347.249 395.823 348.912 394.95C351.468 393.609 349.726 392.309 337.64 386.542C299.434 394.95 39.8012 519.661 33.3185 513.178C26.8359 506.695 139.892 251.746 149.798 202.235C144.519 191.954 140.061 183.384 139.892 183.188C139.723 182.993 113.339 255.821 81.259 345.029ZM437.038 333.465C430.058 342.34 435.057 353.438 446.035 353.438C450.442 353.438 451.367 352.83 451.367 349.921C451.367 345.778 445.706 333.547 442.594 330.962C440.916 329.571 439.655 330.138 437.038 333.465Z" 
              fill="#00674F"
            />
          </svg>
        </div>

        {/* Content */}
        <div className="flex flex-col items-center gap-4 text-center">
          {/* Heading */}
          <h2 
            className="text-black font-serif font-medium leading-tight"
            style={{
              fontSize: '24px',
              lineHeight: '120%'
            }}
          >
            {heading}
          </h2>

          {/* Message */}
          <p 
            className="text-black font-sans font-normal leading-normal"
            style={{
              fontSize: '14px',
              letterSpacing: '0.28px'
            }}
          >
            {message}
          </p>
        </div>

        {/* Close button */}
        <button
          onClick={onClose}
          className="absolute top-4 right-4 text-gray-500 hover:text-gray-700 text-2xl font-bold"
          aria-label="Close popup"
        >
          Ã—
        </button>
      </div>
    </div>
  );
};

export default SuccessPopupCard;
